(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{31:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),a=n(19),s=n.n(a),i=(n(31),n(5)),r=n(6),l=function(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null},u=function(e,t){localStorage.setItem(e,JSON.stringify(t))},d=n(16),b=n(4),j=n(13),f=Object(j.b)({name:"searchBar",initialState:{text:""},reducers:{setSearchBarText:function(e,t){e.text=t.payload}}}),O=f.actions.setSearchBarText,m=f.reducer,p=(n(35),n(2)),x=function(){var e=Object(b.b)();return Object(p.jsxs)("div",{className:"search-bar",children:[Object(p.jsx)(d.b,{className:"search=icon",size:"1.3em"}),Object(p.jsx)("input",{type:"text",placeholder:"search...",onChange:function(t){e(O(t.target.value))}})]})},h=(n(37),function(e){var t=e.isDarkMode,n=e.action;return Object(p.jsxs)("label",{className:"switch-button",children:[Object(p.jsx)("input",{type:"checkbox",className:"switch-button-checkbox",checked:t,onChange:function(e){n(e.target.checked)}}),Object(p.jsx)("span",{className:"switch-button-slider"})]})}),N=n(8),C=(n(38),function(e){var t=e.isDarkMode,n=e.setDarkMode;return Object(p.jsx)("header",{className:"header",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("section",{className:"header-panel",children:[Object(p.jsx)("h1",{className:"header-title",children:"Notes"}),Object(p.jsxs)("section",{className:"light-or-dark-mode",children:[t?Object(p.jsx)(N.f,{className:"mod-icon"}):Object(p.jsx)(N.h,{className:"mod-icon"}),Object(p.jsx)(h,{isDarkMode:t,action:n})]})]}),Object(p.jsx)(x,{})]})})}),v=n(7),k=n(24),g=n.n(k),y={notes:l("notes")||[]},S=Object(j.b)({name:"notes",initialState:y,reducers:{addNote:function(e,t){var n={id:Object(v.a)(),title:t.payload.title,textHtml:t.payload.textHtml,textContent:t.payload.textContent,date:(new Date).toLocaleDateString().split(".").join("/"),color:t.payload.noteColor||g()({luminosity:"light"}),imageUrl:t.payload.imageUrl};e.notes.push(n),u("notes",e.notes)},deleteNote:function(e,t){var n=e.notes.filter((function(e){return e.id!==t.payload}));e.notes=n,u("notes",e.notes)},updateNote:function(e,t){var n=e.notes.findIndex((function(e){return e.id===t.payload.id}));e.notes[n]=t.payload,u("notes",e.notes)}}}),w=S.actions,P=w.addNote,T=w.deleteNote,H=w.updateNote,E=S.reducer,L=Object(j.b)({name:"infopopup",initialState:{isShow:!1,content:"Some Content"},reducers:{showInfoPopup:function(e){e.isShow=!0},closeInfoPopup:function(e){e.isShow=!1},setInfoPopupContent:function(e,t){e.content=t.payload}}}),I=L.actions,B=I.showInfoPopup,M=I.closeInfoPopup,D=I.setInfoPopupContent,F=L.reducer,R=(n(40),function(e){var t=e.note,n=e.windowWidth,o=t.id,a=t.title,s=t.textHtml,i=t.textContent,l=t.date,u=t.color,j=t.imageUrl,f=Object(c.useRef)(null),O=Object(c.useRef)(null),m=Object(b.b)(),x=Object(r.f)();return Object(c.useEffect)((function(){O.current.innerHTML=s}),[]),Object(p.jsxs)("article",{className:"note",ref:f,style:{backgroundColor:u},onDoubleClick:function(){x.push("/".concat(o))},children:[Object(p.jsx)("img",{src:j,className:"inline-image",alt:""}),Object(p.jsx)("h2",{className:"note-title",children:a}),Object(p.jsx)("p",{className:"note-text",ref:O}),Object(p.jsx)("p",{className:"hidden-text",children:n<576&&i.slice(0,100)+"..."}),Object(p.jsxs)("footer",{className:"note-footer",children:[Object(p.jsx)("small",{children:l}),Object(p.jsx)(d.a,{className:"delete-icon",size:"1.3em",onClick:function(){m(T(o)),m(D("Note deleted")),m(B())}})]})]})}),U=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};var z=n(14),W=Object(j.b)({name:"addNoteButton",initialState:{isHide:!1},reducers:{click:function(e){e.isHide=!e.isHide}}}),J=W.actions.click,K=W.reducer,A=(n(43),function(){var e=Object(b.c)((function(e){return e.addNoteButton.isHide})),t=Object(b.b)();return Object(p.jsx)("button",{className:"btn add-note-button ".concat(e&&"hide"),onClick:function(){t(J())},children:Object(p.jsx)(z.c,{})})}),G=(n(44),function(){var e=Object(b.c)((function(e){return e.addNoteButton.isHide}));return Object(p.jsx)("div",{className:"backdrop ".concat(e&&"show")})}),q=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){var n=function(n){t.current.contains(n.target)||e(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}})),t},Q=(n(45),function(e){var t=e.isControlsPopupOpen,n=e.popupType,o=e.setIsControlsPopupOpen,a=e.controlsPopupPosition,s=e.editTextarea,r=Object(c.useState)(""),l=Object(i.a)(r,2),u=l[0],d=l[1],j=Object(b.c)((function(e){return e.controlsPopup[n]})),f=q(o);return Object(p.jsxs)("div",{className:"popup ".concat(t&&"show-popup"),style:{left:a+"px"},ref:f,onClick:function(){return o(!1)},children:[Object(p.jsx)("input",{className:"link-input",style:{display:j.inputField},value:u,onChange:function(e){return d(e.target.value)},onClick:function(e){e.stopPropagation()}}),j.content.map((function(e){return Object(p.jsx)("button",{className:"btn popup-btn",onClick:function(){return function(e){s(n,e)}(e.value)},children:e.name},e.id)})),Object(p.jsx)("button",{className:"btn popup-btn",style:{display:j.submitButton},onClick:function(){s(n,u),d("")},children:"Create Link"})]})}),V=(n(46),function(e){var t=e.isColorPopupOpen,n=e.setIsColorPopupOpen,c=e.addColor,o=q(n);return Object(p.jsx)("div",{className:"colors-popup",style:{display:t?"flex":"none"},ref:o,onClick:function(){return n(!t)},children:Object(p.jsxs)("div",{className:"colors",children:[Object(p.jsx)("div",{className:"color",id:"#feefc3",style:{backgroundColor:"#feefc3"},onClick:function(){return c("#feefc3")}}),Object(p.jsx)("div",{className:"color",id:"#f28b82",style:{backgroundColor:"#f28b82"},onClick:function(){return c("#f28b82")}}),Object(p.jsx)("div",{className:"color",id:"#fbbc04",style:{backgroundColor:"#fbbc04"},onClick:function(){return c("#fbbc04")}}),Object(p.jsx)("div",{className:"color",id:"#ccff90",style:{backgroundColor:"#ccff90"},onClick:function(){return c("#ccff90")}}),Object(p.jsx)("div",{className:"color",id:"#a7ffeb",style:{backgroundColor:"#a7ffeb"},onClick:function(){return c("#a7ffeb")}}),Object(p.jsx)("div",{className:"color",id:"#cbf0f8",style:{backgroundColor:"#cbf0f8"},onClick:function(){return c("#cbf0f8")}}),Object(p.jsx)("div",{className:"color",id:"#aecbfa",style:{backgroundColor:"#aecbfa"},onClick:function(){return c("#aecbfa")}}),Object(p.jsx)("div",{className:"color",id:"#fdcfe8",style:{backgroundColor:"#fdcfe8"},onClick:function(){return c("#fdcfe8")}}),Object(p.jsx)("div",{className:"color",id:"#cf9fff",style:{backgroundColor:"#cf9fff"},onClick:function(){return c("#cf9fff")}})]})})}),X=(n(47),function(e){var t=e.setImageUrl,n=e.updateHtml,o=e.refContainerTextarea,a=e.setNoteColor,s=Object(c.useState)(!1),r=Object(i.a)(s,2),l=r[0],u=r[1],d=Object(c.useState)("default"),b=Object(i.a)(d,2),j=b[0],f=b[1],O=Object(c.useState)(0),m=Object(i.a)(O,2),x=m[0],h=m[1],C=Object(c.useState)(!1),v=Object(i.a)(C,2),k=v[0],g=v[1],y=function(e){h(e.currentTarget.offsetLeft),l&&j===e.currentTarget.id?u(!1):(l&&j!==e.currentTarget.id||u(!l),f(e.currentTarget.id))};return Object(p.jsxs)("div",{className:"controls-bar",children:[Object(p.jsxs)("ul",{className:"controls",children:[Object(p.jsx)("li",{className:"controls-item",children:Object(p.jsx)("button",{type:"button",id:"fontName",className:"btn controls-btn",onClick:y,children:Object(p.jsx)(N.b,{})})}),Object(p.jsx)("li",{className:"controls-item",children:Object(p.jsx)("button",{type:"button",id:"fontSize",className:"btn controls-btn",onClick:y,children:Object(p.jsx)(N.c,{})})}),Object(p.jsx)("li",{className:"controls-item",children:Object(p.jsx)("button",{type:"button",id:"bold",className:"btn controls-btn",onClick:function(e){document.execCommand("bold"),n(o.innerHTML)},children:Object(p.jsx)(z.a,{})})}),Object(p.jsx)("li",{className:"controls-item",children:Object(p.jsx)("button",{type:"button",id:"italic",className:"btn controls-btn",onClick:function(){document.execCommand("italic"),n(o.innerHTML)},children:Object(p.jsx)(z.d,{})})}),Object(p.jsx)("li",{className:"controls-item",children:Object(p.jsx)("button",{type:"button",id:"createLink",className:"btn controls-btn",onClick:y,children:Object(p.jsx)(N.e,{})})}),Object(p.jsx)("li",{className:"controls-item",children:Object(p.jsx)("button",{type:"button",id:"addImage",className:"btn controls-btn",onClick:y,children:Object(p.jsx)(N.d,{})})}),Object(p.jsx)("li",{className:"controls-item",children:Object(p.jsx)("button",{type:"button",id:"noteColor",className:"btn controls-btn",onClick:function(){return g(!k)},children:Object(p.jsx)(N.g,{})})})]}),Object(p.jsx)(Q,{isControlsPopupOpen:l,popupType:j,setIsControlsPopupOpen:u,controlsPopupPosition:x,editTextarea:function(e,c){c?"addImage"===e?t(c):document.execCommand(e,!1,c):document.execCommand(e),n(o.innerHTML)}}),Object(p.jsx)(V,{isColorPopupOpen:k,setIsColorPopupOpen:g,addColor:function(e){a(e)}})]})}),Y=(n(48),function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(""),s=Object(i.a)(a,2),r=s[0],l=s[1],u=Object(c.useState)(""),d=Object(i.a)(u,2),j=d[0],f=d[1],O=Object(c.useState)(""),m=Object(i.a)(O,2),x=m[0],h=m[1],N=Object(c.useState)(""),C=Object(i.a)(N,2),v=C[0],k=C[1],g=Object(b.b)(),y=Object(c.useRef)(null),S=Object(b.c)((function(e){return e.addNoteButton.isHide})),w=function(){if(!r.trim().length)return g(D("Can't save a note without text")),void g(B());g(P({title:n,textHtml:j,textContent:r,noteColor:v,imageUrl:x})),g(J()),o(""),l(""),f(""),h(""),k("")};return Object(c.useEffect)((function(){200-r.length===0?y.current.contentEditable="false":0===r.length&&(y.current.contentEditable="true",y.current.innerHTML="")}),[r]),Object(p.jsxs)("div",{className:"note-editor ".concat(S&&"show"),onKeyPress:function(e){e.ctrlKey&&w()},children:[Object(p.jsx)(z.b,{className:"note-editor-close-btn",onClick:function(){g(J())}}),Object(p.jsx)("input",{className:"note-editor-title",type:"text",value:n,placeholder:"Add title...",onChange:function(e){o(e.target.value)}}),Object(p.jsx)("img",{src:x,className:"note-image",alt:""}),Object(p.jsx)("p",{className:"textarea",contentEditable:"true","data-placeholder":"Add the text...",ref:y,onKeyUp:function(e){l(e.target.textContent),f(e.target.innerHTML)},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("Text");document.execCommand("insertText",!1,t)}}),Object(p.jsxs)("footer",{className:"note-editor-footer",children:[Object(p.jsx)(X,{setImageUrl:h,setNoteColor:k,updateHtml:function(e){f(e)},refContainerTextarea:y.current}),Object(p.jsxs)("section",{className:"note-editor-footer-section",children:[Object(p.jsxs)("small",{children:[200-r.length," Remainings"]}),Object(p.jsx)("button",{type:"button",className:"btn save-btn",onClick:function(){w()},children:"Save Note"})]})]})]})}),Z=(n(49),function(){var e=Object(b.c)((function(e){return e.notes.notes})),t=Object(b.c)((function(e){return e.searchBar.text})),n=function(){var e=Object(c.useState)(U()),t=Object(i.a)(e,2),n=t[0],o=t[1];return Object(c.useLayoutEffect)((function(){var e=function(){o(U())};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]),n}(),o=e.filter((function(e){return e.textContent.toLowerCase().includes(t.trim().toLowerCase())||e.title.toLowerCase().includes(t.trim().toLowerCase())}));return Object(p.jsxs)("section",{className:"dashboard",children:[o.map((function(e){return Object(p.jsx)(R,{note:e,windowWidth:n},e.id)})),Object(p.jsx)(A,{}),Object(p.jsx)(G,{}),Object(p.jsx)(Y,{})]})}),$=n(26),_=(n(50),function(){var e=Object(r.g)().id,t=Object(b.c)((function(e){return e.notes.notes})).find((function(t){return t.id===e})),n=Object(b.b)(),o=Object(r.f)(),a=Object(c.useRef)(null),s=Object(c.useState)(!1),l=Object(i.a)(s,2),u=l[0],j=l[1],f=Object(c.useState)(""),O=Object(i.a)(f,2),m=O[0],x=O[1],h=Object(c.useState)(""),C=Object(i.a)(h,2),v=C[0],k=C[1],g=Object(c.useState)(""),y=Object(i.a)(g,2),S=y[0],w=y[1];return Object(c.useEffect)((function(){if(t)try{k(t.imageUrl),w(t.color),x(t.textHtml),a.current.innerHTML=t.textHtml}catch(e){throw new Error(e.message)}}),[]),t?Object(p.jsxs)("article",{className:"selected-note",style:{backgroundColor:S},children:[Object(p.jsx)(z.b,{className:"selected-note-close-btn",onClick:function(){o.push("/")}}),Object(p.jsx)("img",{src:v,className:"selected-note-inline-image",alt:""}),Object(p.jsx)("h2",{className:"selected-note-title",children:t.title}),Object(p.jsx)("p",{className:"selected-note-text",ref:a,style:{fontFamily:t.fontFamily},contentEditable:u,onKeyUp:function(e){x(e.target.innerHTML)}}),Object(p.jsxs)("footer",{className:"selected-note-footer",children:[u&&Object(p.jsx)(X,{setImageUrl:k,updateHtml:x,refContainerTextarea:a.current,setNoteColor:w}),Object(p.jsxs)("section",{className:"selected-note-footer-section",children:[Object(p.jsx)("small",{children:t.date}),Object(p.jsx)("button",{type:"button ".concat(!u&&"edit-btn"),className:"btn edit-mode ".concat(!u&&"edit-btn"),title:"Edit Note",onClick:function(){j(!u)},children:u?"Close Editing":Object(p.jsx)(N.a,{size:"2rem"})}),u&&Object(p.jsx)("button",{className:"btn edit-mode",onClick:function(){var e=Object($.a)({},t);e.textHtml=m,e.textContent=a.current.textContent,e.color=S,e.imageUrl=v,n(H(e)),j(!u),n(D("Changes saved")),n(B())},children:"Save Changes"}),Object(p.jsx)("button",{type:"button",className:"btn selected-note-delete-btn",title:"Delete Note",onClick:function(){n(T(e)),n(D("Note deleted")),n(B()),o.push("/")},children:Object(p.jsx)(d.a,{})})]})]})]}):Object(p.jsxs)("div",{className:"error",children:[Object(p.jsx)("h1",{children:"404"}),Object(p.jsx)("h2",{children:"Note with this id is not exist..."}),Object(p.jsx)("button",{type:"button",className:"btn error-btn",onClick:function(){return o.push("/")},children:"Return to dashboard"})]})}),ee=(n(51),function(){var e=Object(b.c)((function(e){return e.infoPopup.isShow})),t=Object(b.c)((function(e){return e.infoPopup.content}))||"",n=Object(b.b)();return Object(c.useEffect)((function(){var e=setTimeout((function(){n(D("")),n(M())}),2500);return function(){clearTimeout(e)}}),[e]),Object(p.jsx)("div",{className:"info-popup ".concat(e&&"show"),children:Object(p.jsx)("div",{className:"info-popup-content",children:t})})}),te=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){var e=l("darkMode");o(e)}),[]),Object(c.useEffect)((function(){u("darkMode",n)}),[n]),Object(p.jsxs)("main",{className:"main ".concat(n&&"dark-mode"),children:[Object(p.jsx)(C,{isDarkMode:n,setDarkMode:o}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)(r.c,{children:[Object(p.jsx)(r.a,{exact:!0,path:"/",children:Object(p.jsx)(Z,{})}),Object(p.jsx)(r.a,{path:"/:id",children:Object(p.jsx)(_,{})})]}),Object(p.jsx)(ee,{})]})]})},ne={default:{inputField:"none",submitButton:"none",content:[]},fontName:{inputField:"none",submitButton:"none",content:[{id:Object(v.a)(),name:"Roboto (default)",value:"Roboto"},{id:Object(v.a)(),name:"Courier New",value:"Courier New"},{id:Object(v.a)(),name:"Times New Roman",value:"Times New Roman"},{id:Object(v.a)(),name:"Patrick Hand",value:"Patrick Hand"},{id:Object(v.a)(),name:"Caveat",value:"Caveat"},{id:Object(v.a)(),name:"Nanum Pen Script",value:"Nanum Pen Script"},{id:Object(v.a)(),name:"Special Elite",value:"Special Elite"},{id:Object(v.a)(),name:"Fredericka the Great",value:"Fredericka the Great"},{id:Object(v.a)(),name:"Faster One",value:"Faster One"}]},fontSize:{inputField:"none",submitButton:"none",content:[{id:Object(v.a)(),name:"10px",value:"1"},{id:Object(v.a)(),name:"13px",value:"2"},{id:Object(v.a)(),name:"16px",value:"3"},{id:Object(v.a)(),name:"18px",value:"4"},{id:Object(v.a)(),name:"24px",value:"5"},{id:Object(v.a)(),name:"32px",value:"6"},{id:Object(v.a)(),name:"48px",value:"7"}]},createLink:{inputField:"block",submitButton:"block",content:[]},addImage:{inputField:"block",submitButton:"block",content:[]}},ce=Object(j.b)({name:"controlsPopup",initialState:ne,reducers:{}}).reducer,oe=Object(j.a)({reducer:{notes:E,searchBar:m,addNoteButton:K,controlsPopup:ce,infoPopup:F}}),ae=n(17);s.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(ae.a,{children:Object(p.jsx)(b.a,{store:oe,children:Object(p.jsx)(te,{})})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.22f8faf7.chunk.js.map